@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* X.com dark theme colors */
    --background-primary: #000000;
    --background-secondary: #16181C;
    --background-tertiary: #202327;
    --background-modal: #16181C;
    --background-hover: rgba(231, 233, 234, 0.1);
    --background-active: rgba(231, 233, 234, 0.2);

    --text-primary: #E7E9EA;
    --text-secondary: #71767B;
    --text-tertiary: #536471;
    --text-link: #1D9BF0;

    --border-default: #2F3336;
    --border-light: #38444D;
    --border-hover: #536471;

    --accent-blue: #1D9BF0;
    --accent-blue-hover: #1A8CD8;
    --accent-green: #00BA7C;
    --accent-pink: #F91880;
    --accent-orange: #F97316;

    --error: #F4212E;
    --warning: #FFAD1F;
    --success: #00BA7C;
  }

  * {
    border-color: var(--border-default);
  }

  html {
    color-scheme: dark;
  }

  body {
    background-color: var(--background-primary);
    color: var(--text-primary);
    font-family: TwitterChirp, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    font-feature-settings: 'rlig' 1, 'calt' 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    line-height: 1.3125;
  }

  /* X.com uses 15px base font size */
  html {
    font-size: 15px;
  }

  /* Links */
  a {
    color: var(--text-link);
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  /* Focus styles */
  :focus-visible {
    outline: 2px solid var(--accent-blue);
    outline-offset: 2px;
  }

  /* Selection */
  ::selection {
    background-color: rgba(29, 155, 240, 0.4);
    color: var(--text-primary);
  }

  /* Placeholder text */
  ::placeholder {
    color: var(--text-tertiary);
    opacity: 1;
  }
}

@layer components {
  /* === Buttons === */

  /* Primary button (blue, filled) */
  .btn-primary {
    @apply inline-flex items-center justify-center rounded-full bg-twitter-blue px-4 py-2 text-base font-bold text-white transition-colors;
    min-height: 36px;
  }
  .btn-primary:hover {
    @apply bg-twitter-blue-hover;
  }
  .btn-primary:active {
    @apply bg-twitter-blue-active;
  }
  .btn-primary:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Large primary button (Post button in nav) */
  .btn-primary-lg {
    @apply btn-primary w-full py-3 text-lg;
    min-height: 52px;
  }

  /* Secondary button (outline) */
  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-full border border-border-light bg-transparent px-4 py-2 text-base font-bold text-text-primary transition-colors;
    min-height: 36px;
  }
  .btn-secondary:hover {
    @apply bg-background-hover border-border-hover;
  }

  /* Ghost button (no border, shows on hover) */
  .btn-ghost {
    @apply inline-flex items-center justify-center rounded-full bg-transparent px-3 py-2 text-base font-medium text-text-primary transition-colors;
  }
  .btn-ghost:hover {
    @apply bg-background-hover;
  }

  /* Icon button */
  .btn-icon {
    @apply inline-flex items-center justify-center rounded-full p-2 transition-colors;
  }
  .btn-icon:hover {
    @apply bg-background-hover;
  }

  /* Interaction buttons with colors */
  .btn-icon-reply {
    @apply btn-icon text-text-secondary;
  }
  .btn-icon-reply:hover {
    @apply text-interaction-reply bg-interaction-reply/10;
  }

  .btn-icon-repost {
    @apply btn-icon text-text-secondary;
  }
  .btn-icon-repost:hover {
    @apply text-interaction-repost bg-interaction-repost/10;
  }
  .btn-icon-repost.active {
    @apply text-interaction-repost;
  }

  .btn-icon-like {
    @apply btn-icon text-text-secondary;
  }
  .btn-icon-like:hover {
    @apply text-interaction-like bg-interaction-like/10;
  }
  .btn-icon-like.active {
    @apply text-interaction-like;
  }

  .btn-icon-share {
    @apply btn-icon text-text-secondary;
  }
  .btn-icon-share:hover {
    @apply text-interaction-view bg-interaction-view/10;
  }

  /* Follow button */
  .btn-follow {
    @apply inline-flex items-center justify-center rounded-full bg-text-primary px-4 py-1.5 text-sm font-bold text-background-primary transition-colors;
    min-height: 32px;
  }
  .btn-follow:hover {
    @apply bg-text-primary/90;
  }

  /* Following button (inverse) */
  .btn-following {
    @apply inline-flex items-center justify-center rounded-full border border-border-light bg-transparent px-4 py-1.5 text-sm font-bold text-text-primary transition-colors;
    min-height: 32px;
  }
  .btn-following:hover {
    @apply border-error/50 bg-error/10 text-error;
  }

  /* === Cards & Containers === */

  /* Post card */
  .post-card {
    @apply flex gap-3 border-b border-border px-4 py-3 transition-colors cursor-pointer;
  }
  .post-card:hover {
    @apply bg-background-hover;
  }

  /* Trending item */
  .trend-item {
    @apply flex flex-col gap-0.5 px-4 py-3 transition-colors cursor-pointer;
  }
  .trend-item:hover {
    @apply bg-background-hover;
  }

  /* User suggestion card */
  .user-card {
    @apply flex items-center gap-3 px-4 py-3 transition-colors cursor-pointer;
  }
  .user-card:hover {
    @apply bg-background-hover;
  }

  /* Modal overlay */
  .modal-overlay {
    @apply fixed inset-0 z-50 bg-blue-400/20 backdrop-blur-sm;
  }

  /* Modal content */
  .modal-content {
    @apply bg-background-primary rounded-2xl shadow-twitter-lg overflow-hidden;
  }

  /* === Navigation === */

  /* Nav link */
  .nav-link {
    @apply flex items-center gap-5 rounded-full p-3 text-xl text-text-primary transition-colors;
  }
  .nav-link:hover {
    @apply bg-background-hover;
  }
  .nav-link.active {
    @apply font-bold;
  }

  /* Mobile nav item */
  .mobile-nav-item {
    @apply flex flex-1 items-center justify-center py-3;
  }

  /* === Form Elements === */

  /* Input field */
  .input-field {
    @apply w-full rounded-md border border-border bg-transparent px-3 py-2 text-base text-text-primary placeholder:text-text-tertiary focus:border-twitter-blue focus:outline-none focus:ring-1 focus:ring-twitter-blue;
  }

  /* Search input (rounded) */
  .input-search {
    @apply w-full rounded-full border-none bg-background-tertiary px-5 py-3 text-base text-text-primary placeholder:text-text-secondary focus:bg-transparent focus:outline-none focus:ring-2 focus:ring-twitter-blue;
  }

  /* Textarea for compose */
  .compose-textarea {
    @apply w-full resize-none border-none bg-transparent text-xl text-text-primary placeholder:text-text-secondary focus:outline-none;
    line-height: 1.5;
  }

  /* === Layout === */

  /* Main layout wrapper */
  .layout-wrapper {
    @apply mx-auto flex min-h-screen max-w-[1265px];
  }

  /* Left sidebar */
  .left-sidebar {
    @apply sticky top-0 flex h-screen w-[275px] flex-col justify-between py-1 pr-2;
  }

  /* Main content area */
  .main-content {
    @apply flex-1 border-x border-border max-w-feed min-w-0;
  }

  /* Right sidebar */
  .right-sidebar {
    @apply sticky top-0 ml-7 hidden h-screen w-[350px] flex-col gap-4 py-3 lg:flex;
  }

  /* Sticky header */
  .sticky-header {
    @apply sticky top-0 z-10 border-b border-border bg-background-primary/80 backdrop-blur-md;
  }

  /* === Tabs === */

  .tabs {
    @apply flex border-b border-border;
  }

  .tab {
    @apply flex-1 py-4 text-center text-base font-medium text-text-secondary transition-colors;
  }
  .tab:hover {
    @apply bg-background-hover;
  }
  .tab.active {
    @apply font-bold text-text-primary;
  }
  .tab.active::after {
    content: '';
    @apply absolute bottom-0 left-1/2 h-1 w-14 -translate-x-1/2 rounded-full bg-twitter-blue;
  }

  /* === Badges === */

  .badge {
    @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium;
  }

  .badge-blue {
    @apply badge bg-twitter-blue/20 text-twitter-blue;
  }

  .badge-green {
    @apply badge bg-success/20 text-success;
  }

  .badge-orange {
    @apply badge bg-brand-500/20 text-brand-500;
  }

  /* Verified badge */
  .verified-badge {
    @apply ml-0.5 inline-flex h-5 w-5 items-center justify-center text-twitter-blue;
  }

  /* === Avatar === */

  .avatar {
    @apply relative overflow-hidden rounded-full bg-background-tertiary;
  }

  .avatar-xs {
    @apply avatar h-8 w-8;
  }

  .avatar-sm {
    @apply avatar h-10 w-10;
  }

  .avatar-md {
    @apply avatar h-12 w-12;
  }

  .avatar-lg {
    @apply avatar h-16 w-16;
  }

  .avatar-xl {
    @apply avatar h-32 w-32 border-4 border-background-primary;
  }

  /* === Skeleton Loading === */

  .skeleton {
    @apply animate-pulse rounded bg-background-tertiary;
  }

  .skeleton-text {
    @apply skeleton h-4 w-full;
  }

  .skeleton-text-sm {
    @apply skeleton h-3 w-3/4;
  }

  .skeleton-avatar {
    @apply skeleton h-12 w-12 rounded-full;
  }

  /* === Dividers === */

  .divider {
    @apply h-px w-full bg-border;
  }

  .divider-y {
    @apply h-full w-px bg-border;
  }

  /* === Tooltips === */

  .tooltip {
    @apply absolute z-50 rounded bg-background-tertiary px-2 py-1 text-xs text-text-primary shadow-twitter;
  }

  /* === Dropdown Menu === */

  .dropdown-menu {
    @apply absolute z-50 min-w-[200px] rounded-xl bg-background-primary shadow-twitter-lg overflow-hidden;
  }

  .dropdown-item {
    @apply flex w-full items-center gap-3 px-4 py-3 text-base text-text-primary transition-colors;
  }
  .dropdown-item:hover {
    @apply bg-background-hover;
  }
  .dropdown-item-danger {
    @apply dropdown-item text-error;
  }

  /* === Notification Badge === */

  .notification-badge {
    @apply absolute -right-1 -top-1 flex h-5 min-w-[20px] items-center justify-center rounded-full bg-twitter-blue px-1 text-xs font-bold text-white;
  }

  /* === Progress Bar === */

  .progress-bar {
    @apply h-1 w-full overflow-hidden rounded-full bg-background-tertiary;
  }

  .progress-bar-fill {
    @apply h-full rounded-full bg-twitter-blue transition-all duration-300;
  }

  /* === Empty State === */

  .empty-state {
    @apply flex flex-col items-center justify-center gap-2 py-12 text-center;
  }

  .empty-state-title {
    @apply text-3xl font-bold text-text-primary;
  }

  .empty-state-description {
    @apply text-base text-text-secondary max-w-sm;
  }
}

@layer utilities {

      .bg-background-hover {
    background-color: var(--background-hover);
  }
  .border-border-hover {
    border-color: var(--border-hover);
  }
  /* Hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Custom scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--border-default) transparent;
  }
  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
  }
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--border-default);
    border-radius: 4px;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--border-light);
  }

  /* Text truncation */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Gradient masks */
  .mask-fade-bottom {
    -webkit-mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
    mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
  }

  /* Safe area padding for mobile */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  .pt-safe {
    padding-top: env(safe-area-inset-top, 0);
  }

  /* Animation delays */
  .delay-75 { animation-delay: 75ms; }
  .delay-100 { animation-delay: 100ms; }
  .delay-150 { animation-delay: 150ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-500 { animation-delay: 500ms; }

  /* Hover media query (touch devices) */
  @media (hover: none) {
    .hover-none\:bg-transparent:hover {
      background-color: transparent;
    }
  }
}

/* Custom fonts - Twitter Chirp approximation */
@font-face {
  font-family: 'TwitterChirp';
  src: local('Segoe UI'), local('-apple-system'), local('BlinkMacSystemFont');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'TwitterChirp';
  src: local('Segoe UI Bold'), local('-apple-system'), local('BlinkMacSystemFont');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
